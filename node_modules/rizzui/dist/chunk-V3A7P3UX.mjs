import {a as a$3}from'./chunk-SVET3FPP.mjs';import {a as a$2}from'./chunk-RGUZFN73.mjs';import {a as a$1}from'./chunk-XX6LF3NM.mjs';import {a,b}from'./chunk-BIBC43CX.mjs';import z,{createContext,useRef,useState,cloneElement,useContext}from'react';import {useFloating,arrow,offset,flip,shift,autoUpdate,useInteractions,useRole,useDismiss,useClick,useTransitionStyles,FloatingPortal,FloatingArrow}from'@floating-ui/react';import {jsx,Fragment,jsxs}from'react/jsx-runtime';var $={fadeIn:{initial:{opacity:0},close:{opacity:0}},zoomIn:{initial:{opacity:0,transform:"scale(0.96)"},close:{opacity:0,transform:"scale(0.96)"}},slideIn:{initial:{opacity:0,transform:"translateY(4px)"},close:{opacity:0,transform:"translateY(4px)"}}},E=createContext(null);function F({value:e,children:p}){let{isOpen:o,setIsOpen:t,gap:m,animation:l,placement:s}=e,n=useRef(null),[d,c]=useState(!1),{x:u,y,refs:f,strategy:r,context:i}=useFloating({placement:s,open:o!=null?o:d,onOpenChange:t!=null?t:c,middleware:[arrow({element:n}),offset(m),flip(),shift({padding:8})],whileElementsMounted:autoUpdate}),{getReferenceProps:v,getFloatingProps:g}=useInteractions([useRole(i,{role:"tooltip"}),useDismiss(i),useClick(i,{enabled:!0})]),{isMounted:R,styles:N}=useTransitionStyles(i,l&&a({duration:{open:150,close:150}},$[l]));return jsx(E.Provider,{value:a({open:o!=null?o:d,setOpen:t!=null?t:c,isMounted:R,styles:N,getReferenceProps:v,getFloatingProps:g,x:u,y,refs:f,strategy:r,arrowRef:n,context:i},e),children:p})}var x=()=>{let e=useContext(E);if(!e)throw new Error("usePopover must be used within a PopoverProvider");return e};function C({children:e}){let{getReferenceProps:p,refs:o}=x();return jsx(Fragment,{children:cloneElement(e,p(a({ref:o.setReference},typeof e.props=="object"?e.props:{})))})}C.displayName="PopoverTrigger";var P={base:"z-[999] min-w-max bg-background dark:bg-muted/80 dark:backdrop-blur-3xl border border-muted",arrow:"fill-background dark:fill-muted/80 [&>path]:stroke-muted",shadow:{sm:"drop-shadow-md",md:"drop-shadow-lg",lg:"drop-shadow-xl",xl:"drop-shadow-2xl"},size:{sm:"p-2.5",md:"p-4",lg:"p-5",xl:"p-6"},rounded:a$3};function h({children:e,className:p}){let{open:o,setOpen:t,strategy:m,isMounted:l,x:s,y:n,refs:d,styles:c,arrowRef:u,context:y,enableOverlay:f,showArrow:r,getFloatingProps:i,size:v,shadow:g,rounded:R,arrowClassName:N,overlayClassName:D}=x(),V=typeof e=="function";return jsx(Fragment,{children:(l||o)&&jsxs(FloatingPortal,{children:[f?jsx("div",{className:a$1(a$2("popover-overlay"),"fixed inset-0 z-[998] cursor-pointer bg-black bg-opacity-60 transition-opacity duration-200",o?"bg-opacity-60 dark:bg-opacity-80":"opacity-0",D),children:jsx("span",{className:"sr-only",children:"popover overlay"})}):null,jsxs("div",b(a({role:"popover",ref:d.setFloating,className:a$1(a$2("popover-content"),P.base,v&&P.size[v],R&&P.rounded[R],g&&P.shadow[g],p),style:a({position:m,top:n!=null?n:0,left:s!=null?s:0},c)},i()),{children:[V?t&&e({open:o,setOpen:t}):e,r?jsx(FloatingArrow,{ref:u,context:y,"data-testid":"popover-arrow",className:a$1(a$2("popover-arrow"),P.arrow,N),style:{strokeDasharray:"0,14, 5"}}):null]}))]})})}h.displayName="PopoverContent";function k({isOpen:e,setIsOpen:p,gap:o=8,animation:t="zoomIn",placement:m="bottom",enableOverlay:l=!1,showArrow:s=!0,size:n="md",shadow:d="md",rounded:c="md",arrowClassName:u,overlayClassName:y,children:f}){return jsx(F,{value:{isOpen:e,setIsOpen:p,gap:o,animation:t,enableOverlay:l,showArrow:s,placement:m,size:n,shadow:d,rounded:c,arrowClassName:u,overlayClassName:y},children:jsx(Fragment,{children:z.Children.map(f,r=>z.isValidElement(r)&&r.type===C||z.isValidElement(r)&&r.type===h?r:null)})})}k.Trigger=C;k.Content=h;k.displayName="Popover";export{k as a};