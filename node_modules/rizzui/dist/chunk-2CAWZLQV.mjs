import {a as a$1}from'./chunk-XX6LF3NM.mjs';import {c,a,b}from'./chunk-BIBC43CX.mjs';import {useState,useRef,useMemo,useEffect}from'react';import {jsx}from'react/jsx-runtime';var H=t=>{if(!t)return {top:0,left:0};let{top:e,left:n}=t.getBoundingClientRect();return {top:e,left:n}},r={top:-1e3,left:-1e3,right:-1e3,width:0,height:0,elementTop:-1e3},g=(t,e)=>{if(!t)return r;let n=e?e():null,o=n||document.documentElement,{top:i,left:l}=H(n);return b(a({},t),{width:t.width||t.right-t.left,height:t.height||t.top-t.bottom,top:t.bottom+o.scrollTop-i,left:t.left+o.scrollLeft-l,elementTop:t.top+o.scrollTop-i})},R=t=>t?t.top===r.top&&t.left===r.left:!0,L=(t,e)=>{if(!t||!t.current)return r;let n=t.current.getBoundingClientRect();return g(n,e)},v=(t,e)=>{var o;let n=(o=t==null?void 0:t.target)==null?void 0:o.getBoundingClientRect();return n?g(n,e):r},y=t=>typeof(t==null?void 0:t.target)=="undefined",C=t=>{let[e,n]=useState(t||r);return {rect:e,setRect:(i,l)=>{if(y(i))return n(L(i,l));n(v(i,l));}}};var x=t=>{let e=useRef(null);return useEffect(()=>{e.current=t;}),e?e.current:null},E=x;function K(j){var c$1=j,{rect:t,visible:e,hoverHeightRatio:n=1,hoverWidthRatio:o=1,activeOpacity:i=.8,className:l}=c$1,T=c(c$1,["rect","visible","hoverHeightRatio","hoverWidthRatio","activeOpacity","className"]);let M=useRef(null),b=E(R(t)),s=useMemo(()=>{let p=t.width*o,a=t.height*n;return {width:`${p}px`,left:`${t.left+(t.width-p)/2}px`,height:`${a}px`,top:`${t.elementTop+(t.height-a)/2}px`,transition:b?"opacity":"opacity, width, left, top"}},[t,o,n]);return jsx("span",a({ref:M,className:a$1("highlight absolute -z-[1] rounded-md bg-muted/60 transition",e?"opacity-100":"opacity-0",l),style:{width:s.width,left:s.left,height:s.height,top:s.top,transitionProperty:s.transition}},T))}export{C as a,K as b};