import {a as a$2,b}from'./chunk-74ZFO3BX.mjs';import {a as a$8}from'./chunk-L4L5PLCX.mjs';import {a as a$6}from'./chunk-Y6S3EG4A.mjs';import {a as a$a}from'./chunk-Y44RS6NM.mjs';import {a as a$b}from'./chunk-RIFCGJO2.mjs';import {a as a$1}from'./chunk-QMN3QO5S.mjs';import {a as a$7}from'./chunk-LNTCG64Y.mjs';import {a as a$9}from'./chunk-LMWISSCS.mjs';import {a as a$c}from'./chunk-SVET3FPP.mjs';import {a as a$4}from'./chunk-RGUZFN73.mjs';import {a as a$3}from'./chunk-XX6LF3NM.mjs';import {c,b as b$1,a as a$5}from'./chunk-BIBC43CX.mjs';import Ue,{useState,useMemo,Fragment}from'react';import {Listbox,Label,ListboxButton,Transition,ListboxOptions,ListboxOption}from'@headlessui/react';import {jsx,jsxs}from'react/jsx-runtime';var ae=(l,b)=>{let p=b!==void 0,[u,w]=Ue.useState(l);return [p?b:u,d=>{p||w(d);}]},se={top:"top",right:"right",bottom:"bottom",left:"left","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","right-start":"right start","right-end":"right end","left-start":"left start","left-end":"left end"};function oe(l){(!["ArrowUp","ArrowDown","Enter","Home","End","Escape"].includes(l.key)||l.shiftKey||l.ctrlKey||l.metaKey||l.altKey)&&l.stopPropagation();}var a={base:"flex items-center peer border hover:border-primary w-full transition duration-200 ring-[0.6px] hover:ring-primary focus:border-primary focus:ring-[0.8px] focus:ring-primary",disabled:"!bg-muted/70 backdrop-blur cursor-not-allowed !border-muted text-muted-foreground placeholder:text-muted-foreground !ring-muted",error:"!border-red hover:!border-red focus:!border-red !ring-red",size:{sm:"px-2 py-1 text-xs min-h-8",md:"px-3 py-2 text-sm min-h-10",lg:"px-4 py-2 text-base min-h-12",xl:"px-5 py-2.5 text-base min-h-14"},rounded:a$c,prefix:{size:{sm:"ps-1.5",md:"ps-2.5",lg:"ps-3.5",xl:"ps-4"}},suffix:{size:{sm:"pe-1.5",md:"pe-2.5",lg:"pe-3.5",xl:"pe-4"}},variant:{text:"border-transparent ring-transparent bg-transparent",flat:"border-0 ring-muted/70 hover:ring-[1.8px] focus:ring-[1.8px] hover:bg-transparent focus:bg-transparent bg-muted/70 backdrop-blur",outline:"border border-muted ring-muted bg-transparent"}},m={base:`${a$1.base} overflow-auto w-[var(--button-width)] !outline-none !ring-0 m-0 [&>li]:!m-0 [scrollbar-width:thin] [scrollbar-color:rgba(0,0,0,0.2)_rgba(0,0,0,0)] [-ms-overflow-style:none] [&::-webkit-scrollbar-track]:shadow-none [&::-webkit-scrollbar-track]:bg-transparent [&::-webkit-scrollbar]:bg-transparent [&::-webkit-scrollbar]:w-[5px] [&::-webkit-scrollbar-thumb]:bg-muted [&::-webkit-scrollbar-thumb]:rounded-lg`,shadow:a$1.shadow,rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",pill:"rounded-xl"},item:{size:{sm:"text-xs",md:"text-sm",lg:"text-base",xl:"text-base"},rounded:{none:"rounded-none",sm:"rounded-sm",md:"rounded-[4px]",lg:"rounded-md",pill:"rounded-lg"}},inPortal:"[--anchor-max-height:256px;]",notInPortal:"absolute z-10 h-[256px] start-0 top-full mt-1.5"},S={base:"relative mb-2 block group [&.sticky]:mb-0",inputBase:"px-10 placeholder:text-muted-foreground",prefix:"absolute z-10 start-1 top-5 group-[.sticky]:top-7 inline-block -translate-y-1/2 whitespace-nowrap leading-normal text-muted-foreground",suffix:"absolute z-10 end-1 top-5 group-[.sticky]:top-7 inline-block -translate-y-1/2 whitespace-nowrap leading-normal text-muted-foreground",stickySearch:"sticky top-0 z-10 bg-background pt-2 -translate-y-2"},le={base:"peer checked:bg-none focus:ring-offset-background transition duration-200 ease-in-out size-5 rounded bg-transparent border border-muted ring-[0.6px] ring-muted focus:ring-muted checked:!bg-primary checked:!border-primary hover:enabled:border-primary",icon:"peer-checked:opacity-100 absolute opacity-0 text-primary-foreground size-4 start-0.5 top-0.5"};function Je(Ye){var j=Ye,{gap:l=6,modal:b$2=!1,value:p,error:u,label:w,options:g,onClear:O,onChange:d,disabled:R,clearable:ne,className:ie,autoFocus:de,helperText:E,size:s="md",searchProps:ce,stickySearch:pe,displayValue:P,shadow:me="md",prefix:C=null,labelClassName:ue,onSearchChange:$,errorClassName:be,rounded:f="md",inPortal:T=!0,selectClassName:ge,helperClassName:fe,prefixClassName:ye,suffixClassName:xe,searchClassName:he,optionClassName:ke,defaultValue:Ne=[],dropdownClassName:ve,searchable:Se=!1,variant:D="outline",searchSuffix:z=null,searchType:we="text",selectedItemClassName:Oe,getOptionDisplayValue:U,searchByKey:Re="label",optionCheckBox:Ce=!0,searchPrefixClassName:Te,searchSuffixClassName:Ie,labelWeight:Le="medium",searchDisabled:V=!1,searchReadOnly:Pe=!1,selectedOptionClassName:ze,searchContainerClassName:Me,selectContainerClassName:Fe,placeholder:Ke="Select...",hideSelectedOptions:He=!1,placement:Ae="bottom-start",getOptionValueKey:W="value",searchPlaceHolder:Be="Search...",suffix:y=jsx(a$2,{strokeWidth:"2",className:"size-4"}),searchPrefix:M=jsx(b,{strokeWidth:"2",className:"size-4"})}=j,Ee=c(j,["gap","modal","value","error","label","options","onClear","onChange","disabled","clearable","className","autoFocus","helperText","size","searchProps","stickySearch","displayValue","shadow","prefix","labelClassName","onSearchChange","errorClassName","rounded","inPortal","selectClassName","helperClassName","prefixClassName","suffixClassName","searchClassName","optionClassName","defaultValue","dropdownClassName","searchable","variant","searchSuffix","searchType","selectedItemClassName","getOptionDisplayValue","searchByKey","optionCheckBox","searchPrefixClassName","searchSuffixClassName","labelWeight","searchDisabled","searchReadOnly","selectedOptionClassName","searchContainerClassName","selectContainerClassName","placeholder","hideSelectedOptions","placement","getOptionValueKey","searchPlaceHolder","suffix","searchPrefix"]);let[x,F]=ae(Ne,p),[K,Q]=useState(""),H=x!=null?x:[],h=H.length===0,$e=useMemo(()=>g.filter(n=>n[Re].toLowerCase().includes(K.toLocaleLowerCase())),[K,g]),De=()=>{F([]),Q(""),O==null||O();},X=n=>{let e=H.filter(k=>k!==n);F(e),d==null||d(e);};return jsxs("div",{className:a$3(a$4("multi-select-root"),"grid w-full grid-cols-1",ie),children:[jsx(Listbox,b$1(a$5({multiple:!0,disabled:R,value:x,defaultValue:x,onChange:n=>{d==null||d(n),F(n);}},Ee),{children:({open:n})=>jsxs("div",{children:[w&&jsx(Label,{className:a$3(a$4("multi-select-label"),"block",a$6.size[s],a$6.weight[Le],R&&"text-muted-foreground",ue),children:w}),jsx("div",{className:a$3("h-full",!T&&"relative"),children:jsxs(ListboxButton,{className:a$3(a$4("multi-select-button"),a.base,a.variant[D],a.size[s],a.rounded[f],C&&a.prefix.size[s],y&&a.suffix.size[s],R&&a.disabled,u&&h&&a.error,ge),autoFocus:de,children:[C?jsx("span",{className:a$3(a$4("multi-select-prefix"),"block whitespace-nowrap leading-normal",ye),children:C}):null,P&&P(H,g,X),!P&&jsx("span",{className:a$3(a$4("multi-select-value"),"flex w-full flex-wrap items-center gap-2 truncate text-start",h&&"text-muted-foreground",C&&a.prefix.size[s],y&&a.suffix.size[s],Fe),children:h?Ke:jsx(Fragment,{children:p==null?void 0:p.map((e,k)=>{let i=g.find(N=>N[W]===e);return jsx(Fragment,{children:jsxs("span",{className:a$3("item-center flex gap-1 overflow-hidden rounded-md border border-muted text-xs",Oe),children:[jsx("span",{className:"py-1 ps-2",children:i==null?void 0:i.label}),jsx("span",{className:"px-1 py-1 hover:bg-muted",onClick:N=>{N.stopPropagation(),X(e);},children:jsx(a$7,{strokeWidth:"2",className:"size-4 cursor-pointer"})})]})},k)})})}),ne&&!h&&!R?jsx(a$8,{as:"span",size:s,onClick:e=>{e.preventDefault(),De();},hasSuffix:!!y}):null,y?jsx("span",{className:a$3(a$4("multi-select-suffix"),"whitespace-nowrap leading-normal transition-transform duration-200",n&&"rotate-180",xe),children:y}):null]})}),n?jsx(Transition,{as:"div",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:jsxs(ListboxOptions,b$1(a$5({modal:b$2,portal:T},T&&{anchor:{to:se[Ae],gap:l}}),{className:a$3(a$4("multi-select-options"),m.base,m.shadow[me],m.rounded[f],T?m.inPortal:m.notInPortal,ve),children:[Se&&jsxs("div",{className:a$3(S.base,pe&&S.stickySearch,Me),children:[M?jsx("span",{className:a$3(a$4("multi-select-prefix"),S.prefix,M&&a.prefix.size[s],Te),children:M}):null,jsx("input",a$5({type:we,spellCheck:!1,value:K,disabled:V,readOnly:Pe,placeholder:Be,onChange:e=>{Q(e.target.value),$&&$(e.target.value);},onKeyDown:e=>oe(e),className:a$3(a$4("multi-select-search"),a.base,a.size[s],a.variant[D],a.rounded[f],V&&a.disabled,S.inputBase,he)},ce)),z?jsx("span",{className:a$3(a$4("multi-select-suffix"),S.suffix,z&&a.suffix.size[s],Ie),children:z}):null]}),$e.map((e,k)=>jsx(ListboxOption,b$1(a$5({value:e[W]},(e==null?void 0:e.disabled)&&{disabled:e==null?void 0:e.disabled}),{className:({focus:i,selected:N})=>a$3(a$4("multi-select-option"),"flex w-full items-center px-3 py-1.5",i&&"bg-muted/70",f&&m.item.rounded[f],s&&m.item.size[s],!(e!=null&&e.disabled)&&"cursor-pointer",N&&He&&"!hidden",ke),children:({selected:i})=>jsx(Fragment,{children:U?U(e,i):jsx(Fragment,{children:jsxs("div",{className:a$3("flex items-center gap-2",i?"font-medium":"text-foreground",ze),children:[Ce&&jsxs("span",{className:"relative leading-none",children:[jsx("input",{type:"checkbox",readOnly:!0,checked:i,className:a$3(a$4("checkbox-input"),le.base)}),jsx(a$9,{className:a$3(a$4("checkbox-icon"),le.icon)})]}),e.label]})})})}),k))]}))}):null]})})),!u&&E?jsx(a$a,{size:s,className:fe,children:E}):null,u&&h?jsx(a$b,{size:s,error:u,className:be}):null]})}export{Je as a};